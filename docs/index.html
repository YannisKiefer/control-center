<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Center | X Automation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: #1f2937; }
        ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
        .pulse-dot { animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }
        .fade-in { animation: fadeIn 0.3s ease-in; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body class="bg-gray-900 text-white min-h-screen">
    <!-- Header -->
    <header class="bg-gray-800 border-b border-gray-700">
        <div class="px-6 py-4">
            <div class="flex justify-between items-center">
                <div class="flex items-center">
                    <div class="h-10 w-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center mr-4">
                        <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-bold">Control Center</h1>
                        <p class="text-sm text-gray-400">X Automation Ecosystem | Merged v2.0</p>
                    </div>
                </div>
                <div class="flex items-center space-x-6">
                    <div class="flex items-center space-x-2 bg-gray-700 rounded-lg px-3 py-1">
                        <div class="w-2 h-2 bg-green-500 rounded-full pulse-dot"></div>
                        <span class="text-xs text-gray-300" id="connection-status">Live Data</span>
                    </div>
                    <div class="text-right">
                        <p class="text-lg font-mono" id="clock">--:--:--</p>
                        <p class="text-xs text-gray-400" id="date">---</p>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex">
        <!-- Sidebar -->
        <aside class="w-64 bg-gray-800 border-r border-gray-700 min-h-screen">
            <nav class="p-4 space-y-2">
                <button onclick="showTab('overview')" class="w-full flex items-center px-4 py-3 rounded-lg bg-blue-600 text-white transition-all" id="nav-overview">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
                    Overview
                </button>
                <button onclick="showTab('skills')" class="w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-all" id="nav-skills">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg>
                    Skills
                </button>
                <button onclick="showTab('accounts')" class="w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-all" id="nav-accounts">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                    Accounts
                    <span class="ml-auto bg-blue-600 text-xs px-2 py-0.5 rounded-full" id="account-count">10</span>
                </button>
                <button onclick="showTab('proxies')" class="w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-all" id="nav-proxies">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    Proxies
                </button>
                <button onclick="showTab('logs')" class="w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-all" id="nav-logs">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 9l3 3-3 3m5 0h3M5 20h14a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
                    Logs
                </button>
                <button onclick="showTab('analytics')" class="w-full flex items-center px-4 py-3 rounded-lg text-gray-300 hover:bg-gray-700 transition-all" id="nav-analytics">
                    <svg class="w-5 h-5 mr-3" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg>
                    Analytics
                </button>
            </nav>
            
            <div class="absolute bottom-0 w-64 p-4 border-t border-gray-700">
                <div class="bg-gray-700 rounded-lg p-3">
                    <p class="text-xs text-gray-400 mb-1">System Status</p>
                    <div class="flex items-center">
                        <div class="w-2 h-2 bg-green-500 rounded-full mr-2"></div>
                        <span class="text-sm font-medium">All Systems OK</span>
                    </div>
                    <p class="text-xs text-gray-500 mt-1">AdsPower: Running</p>
                    <p class="text-xs text-gray-500">API: Port 50325</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-6 overflow-auto">
            <!-- Overview Tab -->
            <div id="tab-overview" class="space-y-6 fade-in">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-6">
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-blue-500 transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-400">Active Accounts</p>
                                <p class="text-3xl font-bold" id="active-accounts">2/10</p>
                            </div>
                            <div class="h-12 w-12 bg-blue-500/20 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-blue-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                            </div>
                        </div>
                        <div class="mt-4 flex items-center text-sm">
                            <span class="text-green-400">+2</span>
                            <span class="text-gray-500 ml-1">onboarded today</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-purple-500 transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-400">Warmup Phase</p>
                                <p class="text-3xl font-bold">Day 1</p>
                            </div>
                            <div class="h-12 w-12 bg-purple-500/20 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-purple-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="w-full bg-gray-700 rounded-full h-2">
                                <div class="bg-purple-500 h-2 rounded-full" style="width: 7%"></div>
                            </div>
                            <p class="text-xs text-gray-500 mt-1">1 of 14 days</p>
                        </div>
                    </div>
                    
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-green-500 transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-400">Proxy Health</p>
                                <p class="text-3xl font-bold">100%</p>
                            </div>
                            <div class="h-12 w-12 bg-green-500/20 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            </div>
                        </div>
                        <div class="mt-4 flex items-center text-sm">
                            <span class="text-green-400">5/5</span>
                            <span class="text-gray-500 ml-1">proxies active</span>
                        </div>
                    </div>
                    
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-yellow-500 transition-all">
                        <div class="flex items-center justify-between">
                            <div>
                                <p class="text-sm text-gray-400">Pending Actions</p>
                                <p class="text-3xl font-bold">8</p>
                            </div>
                            <div class="h-12 w-12 bg-yellow-500/20 rounded-lg flex items-center justify-center">
                                <svg class="w-6 h-6 text-yellow-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
                            </div>
                        </div>
                        <div class="mt-4 text-sm text-gray-500">
                            Accounts need onboarding
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                        <div class="flex justify-between items-center mb-4">
                            <h3 class="text-lg font-medium">Live Event Stream</h3>
                            <div class="flex items-center">
                                <div class="w-2 h-2 bg-green-500 rounded-full animate-pulse mr-2"></div>
                                <span class="text-xs text-gray-400">Live</span>
                            </div>
                        </div>
                        <div class="space-y-3 max-h-64 overflow-y-auto" id="events-list">
                            <!-- Events injected by JS -->
                        </div>
                    </div>

                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                        <h3 class="text-lg font-medium mb-4">Account Status Overview</h3>
                        <div class="space-y-4">
                            <div class="flex items-center justify-between p-3 bg-gray-700/50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-green-500 rounded-full mr-3"></div>
                                    <span>Active (Onboarded)</span>
                                </div>
                                <span class="font-bold">2</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-700/50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-yellow-500 rounded-full mr-3"></div>
                                    <span>In Warmup</span>
                                </div>
                                <span class="font-bold">2</span>
                            </div>
                            <div class="flex items-center justify-between p-3 bg-gray-700/50 rounded-lg">
                                <div class="flex items-center">
                                    <div class="w-3 h-3 bg-gray-500 rounded-full mr-3"></div>
                                    <span>Pending Onboarding</span>
                                </div>
                                <span class="font-bold">6</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Skills Tab -->
            <div id="tab-skills" class="space-y-6 hidden fade-in">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">Skill Registry</h2>
                    <div class="flex space-x-2">
                        <span class="px-3 py-1 bg-green-900 text-green-300 rounded-full text-sm">11 Running</span>
                        <span class="px-3 py-1 bg-gray-700 text-gray-300 rounded-full text-sm">0 Paused</span>
                    </div>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4" id="skills-grid">
                    <!-- Skills injected by JS -->
                </div>
            </div>

            <!-- Accounts Tab -->
            <div id="tab-accounts" class="space-y-6 hidden fade-in">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">Account Management</h2>
                    <button onclick="refreshAccounts()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm flex items-center">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg>
                        Refresh
                    </button>
                </div>
                <div class="bg-gray-800 rounded-lg border border-gray-700 overflow-hidden">
                    <table class="min-w-full">
                        <thead class="bg-gray-700">
                            <tr>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">ID</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">Handle</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">Status</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">Phase</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">Proxy</th>
                                <th class="px-4 py-3 text-left text-xs font-medium text-gray-400 uppercase">Actions</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-700" id="accounts-table">
                            <!-- Accounts injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Proxies Tab -->
            <div id="tab-proxies" class="space-y-6 hidden fade-in">
                <h2 class="text-2xl font-bold">Proxy Status</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4" id="proxies-grid">
                    <!-- Proxies injected by JS -->
                </div>
            </div>

            <!-- Logs Tab -->
            <div id="tab-logs" class="space-y-6 hidden fade-in">
                <div class="flex justify-between items-center">
                    <h2 class="text-2xl font-bold">System Logs</h2>
                    <div class="flex space-x-2">
                        <button onclick="clearLogs()" class="px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg text-sm">Clear</button>
                        <button onclick="downloadLogs()" class="px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm">Download</button>
                    </div>
                </div>
                <div class="bg-gray-900 rounded-lg p-6 border border-gray-700 font-mono text-sm overflow-auto max-h-96" id="logs-container">
                    <pre class="text-gray-300" id="logs-content">Loading logs...</pre>
                </div>
            </div>

            <!-- Analytics Tab -->
            <div id="tab-analytics" class="space-y-6 hidden fade-in">
                <h2 class="text-2xl font-bold">Analytics</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                        <h3 class="text-lg font-medium mb-4">Account Growth</h3>
                        <canvas id="growthChart"></canvas>
                    </div>
                    <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                        <h3 class="text-lg font-medium mb-4">Activity by Hour</h3>
                        <canvas id="activityChart"></canvas>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ============ DATA ============
        const accountsData = [
            { id: 'ella_001', handle: 'Tammi1205', status: 'active', phase: 'PURE_WARMUP', day: 1, proxy: 'mars_001', email: 'ella001@ellasophie.shop' },
            { id: 'ella_002', handle: 'Drindod', status: 'active', phase: 'PURE_WARMUP', day: 1, proxy: 'mars_001', email: 'ella002@ellasophie.shop' },
            { id: 'ella_003', handle: 'Bklees', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_002', email: 'dujoxvls@cicerklax.com' },
            { id: 'ella_004', handle: 'downtowngbrown', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_002', email: 'brianbuchanan@viablybnb.com' },
            { id: 'ella_005', handle: 'stasharovic', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_003', email: 'xeygdfzj@esfpthons.com' },
            { id: 'ella_006', handle: 'ZacharyAllred', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_003', email: 'paulineangelini@msreclat.com' },
            { id: 'ella_007', handle: 'jadamsrebel', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_004', email: 'oscarbennett@okrapayam.com' },
            { id: 'ella_008', handle: 'viktor713', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_004', email: 'virginiasmith@stalksvnv.com' },
            { id: 'ella_009', handle: 'musthavegame', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_005', email: 'yyrwrejh@conongimps.com' },
            { id: 'ella_010', handle: 'Nell2kold', status: 'imported', phase: 'warmup', day: 0, proxy: 'mars_005', email: 'qsfrdbkp@eanoozaru.com' }
        ];

        const proxiesData = [
            { id: 'mars_001', ip: '46.203.114.11', port: 44444, accounts: ['ella_001', 'ella_002'], location: 'Mars Proxies' },
            { id: 'mars_002', ip: '136.0.239.218', port: 44444, accounts: ['ella_003', 'ella_004'], location: 'Mars Proxies' },
            { id: 'mars_003', ip: '136.0.239.226', port: 44444, accounts: ['ella_005', 'ella_006'], location: 'Mars Proxies' },
            { id: 'mars_004', ip: '136.0.239.31', port: 44444, accounts: ['ella_007', 'ella_008'], location: 'Mars Proxies' },
            { id: 'mars_005', ip: '46.203.107.188', port: 44444, accounts: ['ella_009', 'ella_010'], location: 'Mars Proxies' }
        ];

        const skillsData = [
            { name: 'PostArchitect', health: 98, type: 'Content', status: 'running' },
            { name: 'CaptionWiz', health: 97, type: 'Content', status: 'running' },
            { name: 'ThreadSmith', health: 95, type: 'Content', status: 'running' },
            { name: 'BioForge', health: 99, type: 'Content', status: 'running' },
            { name: 'CommentCraft', health: 94, type: 'Engagement', status: 'running' },
            { name: 'Researcher', health: 96, type: 'Engagement', status: 'running' },
            { name: 'DMDancer', health: 92, type: 'Engagement', status: 'running' },
            { name: 'LeadGenerator', health: 98, type: 'XReacher', status: 'running' },
            { name: 'ConversionAnalyzer', health: 97, type: 'XReacher', status: 'running' },
            { name: 'CupidBotOptimizer', health: 93, type: 'XReacher', status: 'running' },
            { name: 'XReacherConnector', health: 95, type: 'XReacher', status: 'running' }
        ];

        let eventsData = [
            { time: '16:02:34', source: 'PostArchitect', message: 'Generated 3 posts for @ella_001', type: 'info' },
            { time: '16:01:45', source: 'Onboarding', message: 'ella_002 email changed successfully', type: 'success' },
            { time: '16:01:12', source: 'CommentCraft', message: 'Posted 5 comments from @ella_001', type: 'info' },
            { time: '16:00:45', source: 'Warmup', message: 'Day 1 activities completed for ella_001', type: 'success' },
            { time: '15:58:22', source: 'Researcher', message: 'Viral opportunity detected in niche', type: 'warning' },
            { time: '15:55:01', source: 'AdsPower', message: 'Profile ella_001 started successfully', type: 'info' },
            { time: '15:52:18', source: 'Onboarding', message: 'ella_001 fully onboarded', type: 'success' },
            { time: '15:45:12', source: 'Proxy', message: 'mars_001 health check: OK', type: 'info' }
        ];

        // ============ CLOCK ============
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').textContent = now.toLocaleTimeString();
            document.getElementById('date').textContent = now.toLocaleDateString();
        }
        setInterval(updateClock, 1000);
        updateClock();

        // ============ TABS ============
        function showTab(tab) {
            ['overview', 'skills', 'accounts', 'proxies', 'logs', 'analytics'].forEach(t => {
                const el = document.getElementById('tab-' + t);
                const nav = document.getElementById('nav-' + t);
                if (el) el.classList.add('hidden');
                if (nav) {
                    nav.classList.remove('bg-blue-600', 'text-white');
                    nav.classList.add('text-gray-300');
                }
            });
            
            const activeEl = document.getElementById('tab-' + tab);
            const activeNav = document.getElementById('nav-' + tab);
            if (activeEl) activeEl.classList.remove('hidden');
            if (activeNav) {
                activeNav.classList.add('bg-blue-600', 'text-white');
                activeNav.classList.remove('text-gray-300');
            }
            
            if (tab === 'analytics') initCharts();
        }

        // ============ RENDER FUNCTIONS ============
        function renderEvents() {
            const container = document.getElementById('events-list');
            if (!container) return;
            
            container.innerHTML = eventsData.map(event => {
                const colors = {
                    info: 'bg-blue-100 text-blue-600',
                    success: 'bg-green-100 text-green-600',
                    warning: 'bg-yellow-100 text-yellow-600',
                    error: 'bg-red-100 text-red-600'
                };
                return `
                    <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                        <span class="text-xs text-gray-400 font-mono w-16">${event.time}</span>
                        <span class="px-2 py-1 rounded text-xs font-medium mr-3 ${colors[event.type] || colors.info}">${event.source}</span>
                        <span class="text-sm text-gray-300 flex-1">${event.message}</span>
                    </div>
                `;
            }).join('');
        }

        function renderSkills() {
            const container = document.getElementById('skills-grid');
            if (!container) return;
            
            container.innerHTML = skillsData.map(skill => `
                <div class="bg-gray-800 rounded-lg p-6 border border-gray-700 hover:border-blue-500 transition-all">
                    <div class="flex items-start justify-between">
                        <div>
                            <h3 class="font-medium">${skill.name}</h3>
                            <p class="text-sm text-gray-400">${skill.type}</p>
                        </div>
                        <div class="w-3 h-3 rounded-full ${skill.status === 'running' ? 'bg-green-500' : 'bg-red-500'}"></div>
                    </div>
                    <div class="mt-4">
                        <div class="flex justify-between text-sm mb-1">
                            <span class="text-gray-400">Health</span>
                            <span class="${skill.health >= 90 ? 'text-green-400' : 'text-yellow-400'}">${skill.health}%</span>
                        </div>
                        <div class="w-full bg-gray-700 rounded-full h-2">
                            <div class="${skill.health >= 90 ? 'bg-green-500' : 'bg-yellow-500'} h-2 rounded-full transition-all" style="width: ${skill.health}%"></div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderAccounts() {
            const container = document.getElementById('accounts-table');
            if (!container) return;
            
            container.innerHTML = accountsData.map(account => {
                const statusColors = {
                    active: 'bg-green-900 text-green-300',
                    imported: 'bg-gray-700 text-gray-300',
                    error: 'bg-red-900 text-red-300'
                };
                return `
                    <tr class="hover:bg-gray-700/50">
                        <td class="px-4 py-3 text-sm font-mono">${account.id}</td>
                        <td class="px-4 py-3 text-sm">@${account.handle}</td>
                        <td class="px-4 py-3"><span class="px-2 py-1 rounded text-xs ${statusColors[account.status] || statusColors.imported}">${account.status}</span></td>
                        <td class="px-4 py-3 text-sm text-gray-400">${account.phase} (Day ${account.day})</td>
                        <td class="px-4 py-3 text-sm font-mono text-gray-400">${account.proxy}</td>
                        <td class="px-4 py-3">
                            <button class="text-blue-400 hover:text-blue-300 text-sm" onclick="viewAccount('${account.id}')">View</button>
                        </td>
                    </tr>
                `;
            }).join('');
        }

        function renderProxies() {
            const container = document.getElementById('proxies-grid');
            if (!container) return;
            
            container.innerHTML = proxiesData.map(proxy => `
                <div class="bg-gray-800 rounded-lg p-6 border border-gray-700">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="font-medium">${proxy.id}</h3>
                        <div class="w-3 h-3 rounded-full bg-green-500"></div>
                    </div>
                    <div class="space-y-2 text-sm">
                        <div class="flex justify-between">
                            <span class="text-gray-400">IP</span>
                            <span class="font-mono">${proxy.ip}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Port</span>
                            <span class="font-mono">${proxy.port}</span>
                        </div>
                        <div class="flex justify-between">
                            <span class="text-gray-400">Accounts</span>
                            <span>${proxy.accounts.length}</span>
                        </div>
                        <div class="pt-2 border-t border-gray-700">
                            <span class="text-gray-400">Linked: </span>
                            <span class="text-xs">${proxy.accounts.join(', ')}</span>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function renderLogs() {
            const logs = [
                '[22:03:45] INFO: Control Center v2.0 initialized',
                '[22:03:44] INFO: Loaded 10 accounts from registry',
                '[22:03:43] INFO: Connected to AdsPower API (port 50325)',
                '[22:03:42] INFO: Proxy health check completed - 5/5 OK',
                '[22:02:15] SUCCESS: ella_002 email change completed',
                '[22:01:33] INFO: Warmup cycle started for ella_001',
                '[22:00:12] INFO: PostArchitect generated 3 posts',
                '[21:58:45] INFO: CommentCraft posted 5 comments',
                '[21:55:22] WARN: Rate limit approaching for ella_001',
                '[21:52:18] INFO: New follower detected: +3 for @Tammi1205'
            ];
            document.getElementById('logs-content').textContent = logs.join('\n');
        }

        // ============ CHARTS ============
        let chartsInitialized = false;
        function initCharts() {
            if (chartsInitialized) return;
            chartsInitialized = true;
            
            const growthCtx = document.getElementById('growthChart');
            if (growthCtx) {
                new Chart(growthCtx, {
                    type: 'line',
                    data: {
                        labels: ['Day 1', 'Day 2', 'Day 3', 'Day 4', 'Day 5'],
                        datasets: [{
                            label: 'Active Accounts',
                            data: [2, 4, 6, 8, 10],
                            borderColor: '#3B82F6',
                            backgroundColor: 'rgba(59, 130, 246, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { labels: { color: 'white' } } },
                        scales: {
                            x: { ticks: { color: '#9CA3AF' }, grid: { color: '#374151' } },
                            y: { ticks: { color: '#9CA3AF' }, grid: { color: '#374151' } }
                        }
                    }
                });
            }
            
            const activityCtx = document.getElementById('activityChart');
            if (activityCtx) {
                new Chart(activityCtx, {
                    type: 'bar',
                    data: {
                        labels: ['00:00', '04:00', '08:00', '12:00', '16:00', '20:00'],
                        datasets: [{
                            label: 'Actions',
                            data: [5, 12, 25, 45, 38, 20],
                            backgroundColor: '#8B5CF6'
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: { legend: { labels: { color: 'white' } } },
                        scales: {
                            x: { ticks: { color: '#9CA3AF' }, grid: { color: '#374151' } },
                            y: { ticks: { color: '#9CA3AF' }, grid: { color: '#374151' } }
                        }
                    }
                });
            }
        }

        // ============ ACTIONS ============
        function viewAccount(id) {
            alert('Account details for ' + id + '\n\nHandle: @' + accountsData.find(a => a.id === id)?.handle + '\nStatus: View in AdsPower');
        }

        function refreshAccounts() {
            renderAccounts();
            addEvent('System', 'Accounts refreshed manually', 'info');
        }

        function clearLogs() {
            document.getElementById('logs-content').textContent = '[Logs cleared]';
        }

        function downloadLogs() {
            const content = document.getElementById('logs-content').textContent;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'control-center-logs.txt';
            a.click();
        }

        function addEvent(source, message, type = 'info') {
            const now = new Date();
            const time = now.toTimeString().slice(0, 8);
            eventsData.unshift({ time, source, message, type });
            if (eventsData.length > 20) eventsData.pop();
            renderEvents();
        }

        // ============ LIVE UPDATES ============
        setInterval(() => {
            // Simulate live events
            if (Math.random() > 0.7) {
                const sources = ['PostArchitect', 'CommentCraft', 'Researcher', 'AdsPower', 'Warmup'];
                const messages = [
                    'New post generated',
                    'Comment posted successfully',
                    'Viral content detected',
                    'Profile health check OK',
                    'Warmup activity completed'
                ];
                addEvent(
                    sources[Math.floor(Math.random() * sources.length)],
                    messages[Math.floor(Math.random() * messages.length)],
                    'info'
                );
            }
        }, 10000);

        // ============ INIT ============
        document.addEventListener('DOMContentLoaded', () => {
            renderEvents();
            renderSkills();
            renderAccounts();
            renderProxies();
            renderLogs();
        });
    </script>
</body>
</html>
